# Workato DEVELOPER API Configuration
WORKATO_API_TOKEN=your_admin_api_token
WORKATO_HOST=https://app.trial.workato.com

# Workato API COLLECTION Configuration
WORKATO_API_AUTH_TOKEN=your_collection_api_token_here
WORKATO_API_COLLECTION_URL=https://apim.trial.workato.com/your_workspace/utilities-v1

# Okta Configuration (required when WORKATO_MOCK_MODE=false)
OKTA_DOMAIN=your-tenant.okta.com
OKTA_CLIENT_ID=your_client_id
OKTA_CLIENT_SECRET=your_client_secret

# Optional: Authorization server to use. Options: 'default', 'org', or custom server ID
# Use 'org' for org authorization server (no /oauth2/default path)
# Use 'default' for default custom authorization server (default if not specified)
OKTA_AUTH_SERVER=default

# Optional: Defaults to {APP_URL}/api/auth/okta/callback if not provided
# OKTA_REDIRECT_URI=http://localhost:3000/api/auth/okta/callback

# Optional: Only needed for user registration and Okta session management features
OKTA_API_TOKEN=your_okta_api_token

# Application URL (used to compute redirect URI if OKTA_REDIRECT_URI not provided)
APP_URL=http://localhost:3000

# Authentication Provider Selection
# Options: "mock", "okta", or "cognito"
# - "mock": Local authentication with email/password (for development/testing)
# - "okta": Okta OAuth 2.0 authentication
# - "cognito": Amazon Cognito OAuth 2.0 authentication
# If not set, defaults to "okta" for backward compatibility
# AUTH_PROVIDER=mock

# Amazon Cognito Configuration (required when AUTH_PROVIDER=cognito)
# Current deployment uses:
# - User Pool: us-west-2_l1yPytMyD
# - Region: us-west-2
# - Authentication: USER_PASSWORD_AUTH (direct in-app login)
# - Features: User registration, email verification, custom role attribute
COGNITO_USER_POOL_ID=us-west-2_l1yPytMyD
COGNITO_CLIENT_ID=1ss0ehv8du1d14398rioaurp0h
# COGNITO_CLIENT_SECRET=your_client_secret_here  # Optional - only needed for confidential clients (clients with a secret)
COGNITO_REGION=us-west-2

# Optional: Defaults to {APP_URL}/api/auth/cognito/callback if not provided
COGNITO_REDIRECT_URI=http://localhost:3000/api/auth/cognito/callback

# Optional: Domain is auto-computed from User Pool ID if not specified
# COGNITO_DOMAIN=your-custom-domain.auth.us-west-2.amazoncognito.com

# Note: AWS credentials are NOT required for user authentication
# The application uses Cognito's public SignUp and InitiateAuth APIs
# which don't require AWS credentials

# Amazon Bedrock Integration (optional, requires AUTH_PROVIDER=cognito)
# Enables AI-powered chat agents with streaming responses and role-specific tools
# 
# Requirements:
# 1. AUTH_PROVIDER must be set to "cognito"
# 2. COGNITO_IDENTITY_POOL_ID must be configured
# 3. Identity Pool must be linked to the Cognito User Pool
# 4. IAM roles must be configured for each user role (guest, manager, housekeeping, maintenance)
# 5. Bedrock model access must be enabled in your AWS account
#
# Setup Instructions:
# 1. Deploy the Identity Pool using: cd aws/cloudformation && ./deploy-identity-pool.sh dev <user-pool-id> <client-id>
# 2. Enable Bedrock model access: https://console.aws.amazon.com/bedrock/home#/modelaccess
# 3. Copy the Identity Pool ID from CloudFormation outputs to COGNITO_IDENTITY_POOL_ID below
# 4. Restart the development server after configuration changes
#
# Identity Pool ID (required for Bedrock)
# Format: region:uuid (e.g., us-west-2:12345678-1234-1234-1234-123456789012)
COGNITO_IDENTITY_POOL_ID=us-west-2:88c48483-b39d-41e0-a8ba-cdc9ac6bfb9b
#
# Bedrock Model Configuration
# Model ID (defaults to Claude 3 Sonnet if not specified)
# Supported models: anthropic.claude-3-sonnet-20240229-v1:0, anthropic.claude-3-haiku-20240307-v1:0, anthropic.claude-3-opus-20240229-v1:0
BEDROCK_MODEL_ID=us.anthropic.claude-sonnet-4-20250514-v1:0
#
# Maximum tokens to generate (defaults to 4096)
# Range: 1-200000 (varies by model)
# BEDROCK_MAX_TOKENS=4096
#
# Temperature for response randomness (defaults to 0.7)
# Range: 0.0-1.0 (0.0 = deterministic, 1.0 = creative)
# BEDROCK_TEMPERATURE=0.7
#
# AWS Region (defaults to COGNITO_REGION if not set)
# Must match the region where your Identity Pool is deployed
AWS_REGION=us-west-2
#
# Bedrock Logging Configuration
# Log level for Bedrock operations (defaults to 'info' in production, 'debug' in development)
# Options: 'debug', 'info', 'warn', 'error'
# BEDROCK_LOG_LEVEL=info

# MCP (Model Context Protocol) Server Configuration
# Remote MCP servers provide role-specific tools for AI chat agents
# These are only used when Bedrock chat integration is enabled (requires AUTH_PROVIDER=cognito)
#
# Guest MCP Servers
MCP_HOTEL_SERVICES_URL=https://mcp.hotel.example.com/services
MCP_HOTEL_SERVICES_TOKEN=your_hotel_services_token
# MCP_ROOM_CONTROLS_URL=https://mcp.hotel.example.com/room-controls
# MCP_ROOM_CONTROLS_TOKEN=your_room_controls_token
#
# Manager MCP Servers
# MCP_ANALYTICS_URL=https://mcp.hotel.example.com/analytics
# MCP_ANALYTICS_TOKEN=your_analytics_token
MCP_OPERATIONS_URL=https://mcp.hotel.example.com/operations
MCP_OPERATIONS_TOKEN=your_operations_token
#
# Housekeeping MCP Servers
# MCP_HOUSEKEEPING_URL=https://mcp.hotel.example.com/housekeeping
# MCP_HOUSEKEEPING_TOKEN=your_housekeeping_token
#
# Maintenance MCP Servers
# MCP_MAINTENANCE_URL=https://mcp.hotel.example.com/maintenance
# MCP_MAINTENANCE_TOKEN=your_maintenance_token

# Feature Flags
# Set to 'true' to enable mock mode for development/testing (bypasses real API calls)
# IMPORTANT: Restart the Next.js dev server after changing this value!
# Run 'npm run verify:mock' to check your configuration
# Note: WORKATO_MOCK_MODE is maintained for backward compatibility
# If AUTH_PROVIDER is not set and WORKATO_MOCK_MODE is "true", auth provider defaults to "mock"
WORKATO_MOCK_MODE=true

# External Integration Flags
# Set to 'false' to disable specific integrations (defaults to 'true' if not set)
# IMPORTANT: Restart the Next.js dev server after changing these values!
#
# Salesforce - for rooms, services, maintenance, and charges
# SALESFORCE_ENABLED=true
#
# Stripe - for payment processing
# STRIPE_ENABLED=true
#
# Twilio - for SMS notifications
# TWILIO_ENABLED=true
#
# Home Assistant - for room controls (lights, temperature, etc.)
# HOME_ASSISTANT_ENABLED=true

# Debug Features (DEVELOPMENT ONLY - DO NOT USE IN PRODUCTION)
# Enable authentication debug logging in browser console
# NEXT_PUBLIC_DEBUG_AUTH=true

# Enable chat debug panel (shows real-time events, API calls, and message history)
# When enabled, a debug panel appears on the right side of chat interfaces
# Provides visibility into streaming events, tool executions, and errors
# NEVER enable in production - zero overhead when disabled
NEXT_PUBLIC_ENABLE_CHAT_DEBUG=false

# Chat Storage Configuration
# Options: 'memory', 'mock', 'dynamodb'
# - 'memory': In-memory storage (lost on server restart) - for testing only
# - 'mock': SQLite database (persistent) - for development/testing
# - 'dynamodb': DynamoDB table (persistent) - for production
# 
# In mock mode (WORKATO_MOCK_MODE=true), automatically uses 'mock' (SQLite)
# In production, set to 'dynamodb' and configure CHAT_CONVERSATIONS_TABLE
CHAT_STORAGE_MODE=dynamodb
#
# DynamoDB table name (required when CHAT_STORAGE_MODE=dynamodb)
# Deploy using: cd aws/cloudformation && ./deploy-chat-table.sh <environment>
CHAT_CONVERSATIONS_TABLE=chat-conversations-dev

# Chat Conversation Limits
# Maximum number of messages to include in context for each request (default: 10)
# Higher values provide more context but increase API costs and latency
CHAT_CONTEXT_WINDOW=25
#
# Maximum tool use iterations per request (default: 5)
# Prevents infinite loops when agent repeatedly calls tools
CHAT_MAX_TOOL_LOOPS=5
#
# Maximum messages stored per conversation (default: 100)
# Older messages are automatically deleted when limit is exceeded
# CHAT_MAX_MESSAGES_PER_CONVERSATION=100
#
# Conversation expiration time in hours (default: 24)
# Conversations are automatically deleted after this period of inactivity
# CHAT_CONVERSATION_EXPIRATION_HOURS=24
#
# Cleanup interval in hours (default: 1)
# How often to check for and delete expired conversations
# CHAT_CLEANUP_INTERVAL_HOURS=1
#
# Tool execution timeout in milliseconds (default: 30000)
# Maximum time to wait for a tool to execute before timing out
# CHAT_TOOL_TIMEOUT_MS=30000

# API Debugging Configuration
# Show fallback/mock data banner when API calls fail (useful for development)
# Both flags must be set to 'true' for the banner to appear:
# - SHOW_FALLBACK_ERRORS: Server-side flag to include failure data in API response
# - NEXT_PUBLIC_SHOW_FALLBACK_ERRORS: Client-side flag to display the banner
SHOW_FALLBACK_ERRORS=true
NEXT_PUBLIC_SHOW_FALLBACK_ERRORS=true
#
# Pretty print API request/response details in server console (useful for debugging)
# Server-side only, logs to terminal where Next.js is running
SHOW_API_RESPONSES=true
