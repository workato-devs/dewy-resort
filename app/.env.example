### This file controls feature flags and API/MCP access
# IMPORTANT: You may need to restart the dev server after changing values!

# Workato DEVELOPER API Configuration
WORKATO_API_TOKEN=your_admin_api_token
WORKATO_HOST=https://app.trial.workato.com

# Workato API COLLECTION Configuration
WORKATO_API_AUTH_TOKEN=your_collection_api_token_here
WORKATO_API_COLLECTION_URL=https://apim.trial.workato.com/your_workspace/utilities-v1

# Workato API MOCK MODE Configuration
# If AUTH_PROVIDER is not set and WORKATO_MOCK_MODE is "true", auth provider defaults to "mock"
WORKATO_MOCK_MODE=true

# Authentication Provider Selection
# Options: "mock", "okta", or "cognito"
# - "mock": Local authentication with email/password (for development/testing)
# - "okta": Okta OAuth 2.0 authentication
# - "cognito": Amazon Cognito OAuth 2.0 authentication
AUTH_PROVIDER=mock

# Amazon Cognito Configuration (required when AUTH_PROVIDER=cognito)
COGNITO_USER_POOL_ID=us-west-2_l1yPytMyD
COGNITO_CLIENT_ID=1ss0ehv8du1d14398rioaurp0h
COGNITO_REGION=us-west-2
COGNITO_REDIRECT_URI=http://localhost:3000/api/auth/cognito/callback
# COGNITO_CLIENT_SECRET=your_client_secret_here
# COGNITO_DOMAIN=your-custom-domain.auth.us-west-2.amazoncognito.com

# Amazon Bedrock Integration (optional, requires AUTH_PROVIDER=cognito)
# See vendor/aws/cloudformation/README.md for setup instructions
# Identity Pool ID (format: region:uuid)
COGNITO_IDENTITY_POOL_ID=us-west-2:88c48483-b39d-41e0-a8ba-cdc9ac6bfb9b

# Bedrock Model ID
BEDROCK_MODEL_ID=us.anthropic.claude-sonnet-4-20250514-v1:0

# Maximum tokens (defaults to 4096, range: 1-200000)
# BEDROCK_MAX_TOKENS=4096

# Temperature (defaults to 0.7, range: 0.0-1.0)
# BEDROCK_TEMPERATURE=0.7

# AWS Region (defaults to COGNITO_REGION)
AWS_REGION=us-west-2

# Log level (defaults to 'info' in production, 'debug' in development)
# BEDROCK_LOG_LEVEL=info

# MCP (Model Context Protocol) Server Configuration
# Guest MCP Servers
MCP_HOTEL_SERVICES_URL=https://mcp.hotel.example.com/services
MCP_HOTEL_SERVICES_TOKEN=your_hotel_services_token
# MCP_ROOM_CONTROLS_URL=https://mcp.hotel.example.com/room-controls
# MCP_ROOM_CONTROLS_TOKEN=your_room_controls_token
#
# Manager MCP Servers
# MCP_ANALYTICS_URL=https://mcp.hotel.example.com/analytics
# MCP_ANALYTICS_TOKEN=your_analytics_token
MCP_OPERATIONS_URL=https://mcp.hotel.example.com/operations
MCP_OPERATIONS_TOKEN=your_operations_token
#
# Housekeeping MCP Servers
# MCP_HOUSEKEEPING_URL=https://mcp.hotel.example.com/housekeeping
# MCP_HOUSEKEEPING_TOKEN=your_housekeeping_token
#
# Maintenance MCP Servers
# MCP_MAINTENANCE_URL=https://mcp.hotel.example.com/maintenance
# MCP_MAINTENANCE_TOKEN=your_maintenance_token



# External Integration Flags
# Set to 'false' to disable specific integrations (defaults to 'true' if not set)
# IMPORTANT: Restart the Next.js dev server after changing these values!
#
# Salesforce - for rooms, services, maintenance, and charges
# SALESFORCE_ENABLED=true
#
# Stripe - for payment processing
# STRIPE_ENABLED=true
#
# Twilio - for SMS notifications
# TWILIO_ENABLED=true
#
# Home Assistant - for room controls (lights, temperature, etc.)
# HOME_ASSISTANT_ENABLED=true

# SSL Verification (for corporate proxies like ZScaler)
# Set to 'true' if you're behind a corporate proxy that intercepts SSL certificates
# WARNING: Only use in development! NEVER disable SSL verification in production!
# DISABLE_SSL_VERIFICATION=false

# Debug Features (DEVELOPMENT ONLY - DO NOT USE IN PRODUCTION)
# Enable authentication debug logging in browser console
# NEXT_PUBLIC_DEBUG_AUTH=true

# Enable chat debug panel (shows real-time events, API calls, and message history)
# When enabled, a debug panel appears on the right side of chat interfaces
# Provides visibility into streaming events, tool executions, and errors
# NEVER enable in production - zero overhead when disabled
NEXT_PUBLIC_ENABLE_CHAT_DEBUG=false

# Chat Storage Configuration
# Options: 'memory', 'mock', 'dynamodb'
# - 'memory': In-memory storage (lost on server restart) - for testing only
# - 'mock': SQLite database (persistent) - for development/testing
# - 'dynamodb': DynamoDB table (persistent) - for production
# 
# In mock mode (WORKATO_MOCK_MODE=true), automatically uses 'mock' (SQLite)
# In production, set to 'dynamodb' and configure CHAT_CONVERSATIONS_TABLE
CHAT_STORAGE_MODE=dynamodb
#
# DynamoDB table name (required when CHAT_STORAGE_MODE=dynamodb)
# Deploy using: cd aws/cloudformation && ./deploy-chat-table.sh <environment>
CHAT_CONVERSATIONS_TABLE=chat-conversations-dev

# Chat Conversation Limits
# Maximum number of messages to include in context for each request (default: 10)
# Higher values provide more context but increase API costs and latency
CHAT_CONTEXT_WINDOW=25
#
# Maximum tool use iterations per request (default: 5)
# Prevents infinite loops when agent repeatedly calls tools
CHAT_MAX_TOOL_LOOPS=5
#
# Maximum messages stored per conversation (default: 100)
# Older messages are automatically deleted when limit is exceeded
# CHAT_MAX_MESSAGES_PER_CONVERSATION=100
#
# Conversation expiration time in hours (default: 24)
# Conversations are automatically deleted after this period of inactivity
# CHAT_CONVERSATION_EXPIRATION_HOURS=24
#
# Cleanup interval in hours (default: 1)
# How often to check for and delete expired conversations
# CHAT_CLEANUP_INTERVAL_HOURS=1
#
# Tool execution timeout in milliseconds (default: 30000)
# Maximum time to wait for a tool to execute before timing out
# CHAT_TOOL_TIMEOUT_MS=30000

# API Debugging Configuration
# Show fallback/mock data banner when API calls fail (useful for development)
# Both flags must be set to 'true' for the banner to appear:
# - SHOW_FALLBACK_ERRORS: Server-side flag to include failure data in API response
# - NEXT_PUBLIC_SHOW_FALLBACK_ERRORS: Client-side flag to display the banner
SHOW_FALLBACK_ERRORS=true
NEXT_PUBLIC_SHOW_FALLBACK_ERRORS=true
#
# Pretty print API request/response details in server console (useful for debugging)
# Server-side only, logs to terminal where Next.js is running
SHOW_API_RESPONSES=true
